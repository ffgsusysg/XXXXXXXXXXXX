<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ูุชูุฌุฉ ุงูุทุงูุจ</title>
  <style>
    /*
     * ุงูุฃููุงุท ุงูุฃุณุงุณูุฉ ููุตูุญุฉ
     * Basic page styles
     */
    body {
      font-family: 'Tahoma', sans-serif; /* ุชุญุฏูุฏ ููุน ุงูุฎุท */
      background: #f2f2f2; /* ููู ุงูุฎูููุฉ ุงููุงุชุญ */
      padding: 30px; /* ูุณุงูุฉ ุฏุงุฎููุฉ ุญูู ุงูุฌุณู */
      direction: rtl; /* ุงุชุฌุงู ุงููุต ูู ุงููููู ุฅูู ุงููุณุงุฑ */
    }

    /*
     * ุฃููุงุท ุงูุญุงููุฉ ุงูุฑุฆูุณูุฉ
     * Main container styles
     */
    .container {
      max-width: 500px; /* ุฃูุตู ุนุฑุถ ููุญุงููุฉ */
      margin: auto; /* ุชูุณูุท ุงูุญุงููุฉ ุฃูููุงู */
      background: #fff; /* ููู ุฎูููุฉ ุงูุญุงููุฉ ุฃุจูุถ */
      padding: 25px; /* ูุณุงูุฉ ุฏุงุฎููุฉ ููุญุงููุฉ */
      border-radius: 10px; /* ุญูุงู ุฏุงุฆุฑูุฉ ููุญุงููุฉ */
      box-shadow: 0 0 15px rgba(0,0,0,0.1); /* ุธู ุฎููู ููุญุงููุฉ */
    }

    /*
     * ุฃููุงุท ุงูุนููุงู ุงูุฑุฆูุณู
     * Main heading styles
     */
    h2 {
      text-align: center; /* ุชูุณูุท ุงููุต */
      margin-bottom: 25px; /* ูุงูุด ุณููู */
    }

    /*
     * ุฃููุงุท ุชุณููุงุช ุงูุญููู
     * Label styles
     */
    label {
      display: block; /* ุนุฑุถ ููุชูุฉ */
      margin: 10px 0 5px; /* ููุงูุด ุญูู ุงูุชุณููุฉ */
    }

    /*
     * ุฃููุงุท ุญููู ุงูุฅุฏุฎุงู
     * Input field styles
     */
    input {
      width: 100%; /* ุนุฑุถ ูุงูู */
      padding: 10px; /* ุญุดู ุฏุงุฎูู */
      margin-bottom: 15px; /* ูุงูุด ุณููู */
      border: 1px solid #ccc; /* ุญุฏูุฏ ุฑูุงุฏูุฉ */
      border-radius: 5px; /* ุญูุงู ุฏุงุฆุฑูุฉ */
    }

    /*
     * ุฃููุงุท ุงูุฒุฑ
     * Button styles
     */
    button {
      width: 100%; /* ุนุฑุถ ูุงูู */
      padding: 12px; /* ุญุดู ุฏุงุฎูู */
      background: #1e88e5; /* ููู ุฎูููุฉ ุฃุฒุฑู */
      color: white; /* ููู ุงููุต ุฃุจูุถ */
      border: none; /* ุฅุฒุงูุฉ ุงูุญุฏูุฏ */
      border-radius: 6px; /* ุญูุงู ุฏุงุฆุฑูุฉ */
      font-size: 16px; /* ุญุฌู ุงูุฎุท */
      cursor: pointer; /* ูุคุดุฑ ุงููุฃุฑุฉ ุนูู ุดูู ูุฏ */
    }

    /*
     * ุฃููุงุท ุงูุฒุฑ ุนูุฏ ุงูุชุญููู
     * Button hover styles
     */
    button:hover {
      background: #1565c0; /* ููู ุฎูููุฉ ุฃุฒุฑู ุฃุบูู ุนูุฏ ุงูุชุญููู */
    }

    /*
     * ุฃููุงุท ููุทูุฉ ุนุฑุถ ุงููุชุงุฆุฌ
     * Result display area styles
     */
    .result {
      margin-top: 20px; /* ูุงูุด ุนููู */
      white-space: pre-wrap; /* ูุญุงูุธ ุนูู ุชูุณูู ุงูุฃุณุทุฑ ูุงููุณุงูุงุช ุงูุจูุถุงุก */
      background: #e8f5e9; /* ููู ุฎูููุฉ ุฃุฎุถุฑ ูุงุชุญ */
      border: 1px solid #a5d6a7; /* ุญุฏูุฏ ุฎุถุฑุงุก */
      padding: 15px; /* ุญุดู ุฏุงุฎูู */
      border-radius: 6px; /* ุญูุงู ุฏุงุฆุฑูุฉ */
    }

    /*
     * ุฃููุงุท ุฑุณุงูุฉ ุงูุฎุทุฃ
     * Error message styles
     */
    .error {
      background: #ffebee; /* ููู ุฎูููุฉ ุฃุญูุฑ ูุงุชุญ */
      border: 1px solid #ef9a9a; /* ุญุฏูุฏ ุญูุฑุงุก */
    }
  </style>
</head>
<body>

<div class="container">
  <h2>ุงุณุชุนูุงู ุนู ุงููุชูุฌุฉ</h2>

  <label for="no">ุฑูู ุงูุทุงูุจ</label>
  <input type="text" id="no" placeholder="ุฃุฏุฎู ุฑูู ุงูุทุงูุจ">

  <label for="dob">ุงูุฑูุฒ ุงูุณุฑู (ุงุฎุชูุงุฑู)</label>
  <input type="text" id="dob" placeholder="ุฃุฏุฎู ุงูุฑูุฒ ุงูุณุฑู ุฅู ูุฌุฏ">

  <button onclick="fetchResult()">ุนุฑุถ ุงููุชูุฌุฉ</button>

  <div id="output" class="result" style="display: none;"></div>
</div>

<script>
  /**
   * ุฏุงูุฉ ูุฌูุจ ูุชูุฌุฉ ุงูุทุงูุจ ูู ุงูุฎุงุฏู.
   * Fetches student result from the server.
   */
  async function fetchResult() {
    // ุงูุญุตูู ุนูู ููู ุญููู ุงูุฅุฏุฎุงู ูุฅุฒุงูุฉ ุงููุณุงูุงุช ุงูุฒุงุฆุฏุฉ
    const no = document.getElementById('no').value.trim();
    const dob = document.getElementById('dob').value.trim();
    const output = document.getElementById('output'); // ููุทูุฉ ุนุฑุถ ุงููุชุงุฆุฌ

    // ุฅุธูุงุฑ ููุทูุฉ ุงููุชุงุฆุฌ ูุชุฌููุฒูุง ูุฑุณุงูุฉ ุงูุชุญููู
    output.style.display = 'block';
    output.classList.remove('error'); // ุฅุฒุงูุฉ ุฃู ุชูุณูู ุฎุทุฃ ุณุงุจู
    output.textContent = '๐ ุฌุงุฑู ุงูุจุญุซ...'; // ุนุฑุถ ุฑุณุงูุฉ ุฌุงุฑู ุงูุจุญุซ

    // ุชุฌููุฒ ุงูุจูุงูุงุช ูุฅุฑุณุงููุง ุฅูู ุงูุฎุงุฏู
    const payload = { no };
    if (dob) payload.dob = dob; // ุฅุถุงูุฉ ุงูุฑูุฒ ุงูุณุฑู ุฅุฐุง ุชู ุฅุฏุฎุงูู

    try {
      // ุฅุฑุณุงู ุทูุจ POST ุฅูู ุงูุฎุงุฏู ูุฌูุจ ุงููุชูุฌุฉ
      const response = await fetch("https://tsghdj5.najah.iq/exam-result/student", {
        method: "POST", // ุชุญุฏูุฏ ุทุฑููุฉ ุงูุทูุจ ูู POST
        headers: {
          "Content-Type": "application/json", // ุฅุฎุจุงุฑ ุงูุฎุงุฏู ุจุฃู ุงูุจูุงูุงุช ุงููุฑุณูุฉ ูู JSON
          "User-Agent": "Mozilla/5.0" // ุชุญุฏูุฏ ูููู ุงููุณุชุฎุฏู (ุงููุชุตูุญ)
        },
        body: JSON.stringify(payload) // ุชุญููู ุงูุจูุงูุงุช ุฅูู JSON ูุฅุฑุณุงููุง ูู ุฌุณู ุงูุทูุจ
      });

      // ุงูุชุญูู ููุง ุฅุฐุง ูุงูุช ุงูุงุณุชุฌุงุจุฉ ูุงุฌุญุฉ (ุฑูุฒ ุงูุญุงูุฉ 200-299)
      if (!response.ok) {
        throw new Error("ุงูุทูุจ ูุดู ุฃู ูุฑููุถ (ุฑูุฒ: " + response.status + ")");
      }

      // ุชุญููู ุงูุงุณุชุฌุงุจุฉ ูู JSON
      const data = await response.json();

      // ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงููุณุชููุฉ ูุนุฑุถ ุงููุชูุฌุฉ
      if (data.student) { // ุฅุฐุง ูุงู ููุงู ูุงุฆู 'student' ูู ุงูุจูุงูุงุช
        const s = data.student; // ุงุฎุชุตุงุฑ ููุงุฆู ุงูุทุงูุจ
        let resultText = 'โ ุชู ุงูุนุซูุฑ ุนูู ุงููุชูุฌุฉ:\n\n'; // ุจุฏุงูุฉ ูุต ุงููุชูุฌุฉ

        // ุฅุถุงูุฉ ุชูุงุตูู ุงูุทุงูุจ ุฅูู ุงููุต
        resultText += `๐ค ุงูุงุณู: ${s.name || "ุ"}\n`;
        resultText += `๐ซ ุงููุฏุฑุณุฉ: ${s.school || "ุ"}\n`;
        resultText += `๐ ุงููุฌููุน: ${s.total || "ุ"}\n`;
        resultText += `๐ ุงููุนุฏู: ${s.average || "ุ"}\n`;
        resultText += `๐ ุงูุญุงูุฉ: ${s.status || "ุ"}\n\n`;
        resultText += `๐ ุงูุฏุฑุฌุงุช:\n`;

        // ุฅุถุงูุฉ ุฏุฑุฌุงุช ุงูููุงุฏ ุฅูู ุงููุต
        for (let subject in s.grades) {
          resultText += `- ${subject}: ${s.grades[subject]}\n`;
        }

        output.textContent = resultText; // ุนุฑุถ ุงููุต ุงูููุงุฆู ูู ููุทูุฉ ุงููุชุงุฆุฌ
      } else {
        // ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุทุงูุจ
        output.textContent = "โ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงููุชูุฌุฉุ ุชุฃูุฏ ูู ุงููุนูููุงุช.";
        output.classList.add('error'); // ุฅุถุงูุฉ ุชูุณูู ุงูุฎุทุฃ
      }

    } catch (err) {
      // ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุชู ูุฏ ุชุญุฏุซ ุฃุซูุงุก ุงูุงุชุตุงู ุฃู ูุนุงูุฌุฉ ุงูุจูุงูุงุช
      output.textContent = "โ๏ธ ุญุตู ุฎุทุฃ ุฃุซูุงุก ุงูุงุชุตุงู:\n" + err.message;
      output.classList.add('error'); // ุฅุถุงูุฉ ุชูุณูู ุงูุฎุทุฃ
    }
  }
</script>

</body>
</html>
